report_comment: >
    This report has been generated by the <a href="https://github.com/nf-core/atacseq" target="_blank">nf-core/atacseq</a>
    analysis pipeline. For information about how to interpret these results, please see the
    <a href="https://github.com/nf-core/atacseq" target="_blank">documentation</a>.

skip_generalstats: true

fn_clean_exts:
    - 'fastq.gz'
    - '_val'
    - 'mkD'
    - 'clN'
    - 'mRp'
    - 'mSm'

report_section_order:
    replicate_peak_count:
        order: -1000
    replicate_frip_score:
        order: -1100
    replicate_peak_annotation:
        order: -1200
    nf-core_atacseq-software-versions:
        order: -1500
    nf-core-atacseq-summary:
        order: -1600

module_order:
    - fastqc:
        name: 'FastQC (raw)'
        info: 'This section of the report shows FastQC results before adapter trimming.'
        path_filters:
            - '*_fastqc.zip'
    - cutadapt
    - fastqc:
        name: 'FastQC (trimmed)'
        info: 'This section of the report shows FastQC results after adapter trimming.'
        target: ''
        path_filters:
            - '*val*_fastqc.zip'
    - samtools:
        name: 'SAMTools (run-level; unfiltered)'
        info: 'This section of the report shows SAMTools results at the run-level before read filtering.'
        path_filters:
            - '*mkD.sorted.bam*'
    - picard:
        name: 'Picard (run-level; unfiltered)'
        info: 'This section of the report shows picard results at the run-level before read filtering.'
        path_filters:
            - '*mkD.*'
    - samtools:
        name: 'SAMTools (run-level; filtered)'
        info: 'This section of the report shows SAMTools results at the run-level after read filtering.'
        path_filters:
            - '*clN.sorted.bam*'
    - samtools:
        name: 'SAMTools (replicate-level)'
        info: 'This section of the report shows SAMTools results at the replicate-level after removal of duplicate reads.'
        path_filters:
            - '*mRp.sorted.bam*'
    - samtools:
        name: 'SAMTools (sample-level)'
        info: 'This section of the report shows SAMTools results at the sample-level after removal of duplicate reads.'
        path_filters:
            - '*mSm.sorted.bam*'
    - featureCounts:
        name: 'featureCounts (replicate-level)'
        info: 'This section of the report shows featureCounts results for the number of reads assigned to replicate-level merged peaks.'
        path_filters:
            - '*mRp.featureCounts*'

custom_data:
    replicate_peak_count:
        file_format: 'tsv'
        section_name: 'MACS2 peak count (replicate-level)'
        description: 'Replicate-level peak counts'
        plot_type: 'bargraph'
        pconfig:
            id: 'replicate_peak_count_bargraph'
            title: 'Peak count'
            ylab: 'Peak count'

    replicate_frip_score:
        file_format: 'tsv'
        section_name: 'MACS2 peak FRiP score (replicate-level)'
        description: 'Replicate-level MACS2 peak FRiP scores'
        plot_type: 'bargraph'
        pconfig:
            id: 'replicate_frip_score_bargraph'
            title: 'FRiP score'
            ylab: 'FRiP score'
            ymax: 1
            ymin: 0
            tt_decimals: 2

    replicate_peak_annotation:
        file_format: 'tsv'
        section_name: 'MACS2 peak annotation (replicate-level)'
        description: 'Replicate-level MACS2 peak annotation'
        plot_type: 'bargraph'
        pconfig:
            id: 'replicate_peak_annotation_bargraph'
            title: 'annotatePeaks peak to feature %'
            ylab: 'Feature %'
            ymax: 100
            ymin: 0
            cpswitch_c_active: false

sp:
    replicate_peak_count:
        fn: '*mRp*count*'
    replicate_frip_score:
        fn: '*mRp*FRiP*'
    replicate_peak_annotation:
        fn: '*annotatePeaks.mRp*'
